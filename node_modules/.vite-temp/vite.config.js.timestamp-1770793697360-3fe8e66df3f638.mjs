// vite.config.js
import { defineConfig } from "file:///D:/MEMO/node_modules/vite/dist/node/index.js";
import react from "file:///D:/MEMO/node_modules/@vitejs/plugin-react/dist/index.js";
import fs from "node:fs";
import path from "node:path";
import { fileURLToPath } from "node:url";
import mkcert from "file:///D:/MEMO/node_modules/vite-plugin-mkcert/dist/mkcert.mjs";
import { VitePWA } from "file:///D:/MEMO/node_modules/vite-plugin-pwa/dist/index.js";
var __vite_injected_original_import_meta_url = "file:///D:/MEMO/vite.config.js";
var __dirname = path.dirname(fileURLToPath(__vite_injected_original_import_meta_url));
function copySqlJs() {
  return {
    name: "copy-sql-js",
    buildStart() {
      try {
        const src = path.resolve(__dirname, "node_modules/sql.js/dist");
        const dest = path.resolve(__dirname, "public");
        if (!fs.existsSync(dest)) fs.mkdirSync(dest, { recursive: true });
        fs.copyFileSync(path.join(src, "sql-wasm.js"), path.join(dest, "sql-wasm.js"));
        fs.copyFileSync(path.join(src, "sql-wasm.wasm"), path.join(dest, "sql-wasm.wasm"));
        console.log("\u2705 sql.js files copied to public folder");
      } catch (e) {
        console.error("\u274C Error copying sql.js files:", e);
      }
    }
  };
}
function ensurePwaAssets() {
  return {
    name: "ensure-pwa-assets",
    buildStart() {
      const dest = path.resolve(__dirname, "public");
      if (!fs.existsSync(dest)) fs.mkdirSync(dest, { recursive: true });
      const assets = [
        { name: "favicon.ico", content: "R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" },
        // 1x1 GIF
        { name: "pwa-192x192.png", content: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==" },
        // 1x1 PNG
        { name: "pwa-512x512.png", content: "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==" }
        // 1x1 PNG
      ];
      assets.forEach((asset) => {
        const assetPath = path.join(dest, asset.name);
        if (!fs.existsSync(assetPath)) {
          fs.writeFileSync(assetPath, Buffer.from(asset.content, "base64"));
        }
      });
    }
  };
}
var vite_config_default = defineConfig({
  plugins: [
    react(),
    copySqlJs(),
    ensurePwaAssets(),
    mkcert(),
    VitePWA({
      registerType: "autoUpdate",
      includeAssets: ["favicon.ico", "pwa-192x192.png", "pwa-512x512.png"],
      manifest: {
        name: "Note Station",
        short_name: "NoteStation",
        description: "Evernote-style note taking station",
        theme_color: "#ffffff",
        icons: [
          {
            src: "pwa-192x192.png",
            sizes: "192x192",
            type: "image/png"
          },
          {
            src: "pwa-512x512.png",
            sizes: "512x512",
            type: "image/png"
          }
        ]
      }
    })
  ],
  base: "./",
  server: {
    https: true,
    host: true
  },
  build: {
    outDir: "dist",
    emptyOutDir: true
  }
});
export {
  vite_config_default as default
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidml0ZS5jb25maWcuanMiXSwKICAic291cmNlUm9vdCI6ICJmaWxlOi8vL0Q6L01FTU8vIiwKICAic291cmNlc0NvbnRlbnQiOiBbImNvbnN0IF9fdml0ZV9pbmplY3RlZF9vcmlnaW5hbF9kaXJuYW1lID0gXCJEOlxcXFxNRU1PXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ZpbGVuYW1lID0gXCJEOlxcXFxNRU1PXFxcXHZpdGUuY29uZmlnLmpzXCI7Y29uc3QgX192aXRlX2luamVjdGVkX29yaWdpbmFsX2ltcG9ydF9tZXRhX3VybCA9IFwiZmlsZTovLy9EOi9NRU1PL3ZpdGUuY29uZmlnLmpzXCI7aW1wb3J0IHsgZGVmaW5lQ29uZmlnIH0gZnJvbSAndml0ZSdcclxuaW1wb3J0IHJlYWN0IGZyb20gJ0B2aXRlanMvcGx1Z2luLXJlYWN0J1xyXG5pbXBvcnQgZnMgZnJvbSAnbm9kZTpmcydcclxuaW1wb3J0IHBhdGggZnJvbSAnbm9kZTpwYXRoJ1xyXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAnbm9kZTp1cmwnXHJcbmltcG9ydCBta2NlcnQgZnJvbSAndml0ZS1wbHVnaW4tbWtjZXJ0J1xyXG5pbXBvcnQgeyBWaXRlUFdBIH0gZnJvbSAndml0ZS1wbHVnaW4tcHdhJ1xyXG5cclxuY29uc3QgX19kaXJuYW1lID0gcGF0aC5kaXJuYW1lKGZpbGVVUkxUb1BhdGgoaW1wb3J0Lm1ldGEudXJsKSlcclxuXHJcbmZ1bmN0aW9uIGNvcHlTcWxKcygpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbmFtZTogJ2NvcHktc3FsLWpzJyxcclxuICAgIGJ1aWxkU3RhcnQoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgc3JjID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ25vZGVfbW9kdWxlcy9zcWwuanMvZGlzdCcpO1xyXG4gICAgICAgIGNvbnN0IGRlc3QgPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAncHVibGljJyk7XHJcbiAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGRlc3QpKSBmcy5ta2RpclN5bmMoZGVzdCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICAgICAgZnMuY29weUZpbGVTeW5jKHBhdGguam9pbihzcmMsICdzcWwtd2FzbS5qcycpLCBwYXRoLmpvaW4oZGVzdCwgJ3NxbC13YXNtLmpzJykpO1xyXG4gICAgICAgIGZzLmNvcHlGaWxlU3luYyhwYXRoLmpvaW4oc3JjLCAnc3FsLXdhc20ud2FzbScpLCBwYXRoLmpvaW4oZGVzdCwgJ3NxbC13YXNtLndhc20nKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1x1MjcwNSBzcWwuanMgZmlsZXMgY29waWVkIHRvIHB1YmxpYyBmb2xkZXInKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1x1Mjc0QyBFcnJvciBjb3B5aW5nIHNxbC5qcyBmaWxlczonLCBlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZW5zdXJlUHdhQXNzZXRzKCkge1xyXG4gIHJldHVybiB7XHJcbiAgICBuYW1lOiAnZW5zdXJlLXB3YS1hc3NldHMnLFxyXG4gICAgYnVpbGRTdGFydCgpIHtcclxuICAgICAgY29uc3QgZGVzdCA9IHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsICdwdWJsaWMnKTtcclxuICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGRlc3QpKSBmcy5ta2RpclN5bmMoZGVzdCwgeyByZWN1cnNpdmU6IHRydWUgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBhc3NldHMgPSBbXHJcbiAgICAgICAgeyBuYW1lOiAnZmF2aWNvbi5pY28nLCBjb250ZW50OiAnUjBsR09EbGhBUUFCQUlBQUFBQUFBUC8vL3lINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQlJBQTcnIH0sIC8vIDF4MSBHSUZcclxuICAgICAgICB7IG5hbWU6ICdwd2EtMTkyeDE5Mi5wbmcnLCBjb250ZW50OiAnaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUjQybU5rK1ArL0hnQUZoQUovd2xzZUtnQUFBQUJKUlU1RXJrSmdnZz09JyB9LCAvLyAxeDEgUE5HXHJcbiAgICAgICAgeyBuYW1lOiAncHdhLTUxMng1MTIucG5nJywgY29udGVudDogJ2lWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQURVbEVRVlI0Mm1OaytQKy9IZ0FGaEFKL3dsc2VLZ0FBQUFCSlJVNUVya0pnZ2c9PScgfSAgLy8gMXgxIFBOR1xyXG4gICAgICBdO1xyXG5cclxuICAgICAgYXNzZXRzLmZvckVhY2goYXNzZXQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFzc2V0UGF0aCA9IHBhdGguam9pbihkZXN0LCBhc3NldC5uYW1lKTtcclxuICAgICAgICBpZiAoIWZzLmV4aXN0c1N5bmMoYXNzZXRQYXRoKSkge1xyXG4gICAgICAgICAgZnMud3JpdGVGaWxlU3luYyhhc3NldFBhdGgsIEJ1ZmZlci5mcm9tKGFzc2V0LmNvbnRlbnQsICdiYXNlNjQnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XHJcbiAgcGx1Z2luczogW1xyXG4gICAgcmVhY3QoKSwgXHJcbiAgICBjb3B5U3FsSnMoKSwgXHJcbiAgICBlbnN1cmVQd2FBc3NldHMoKSwgXHJcbiAgICBta2NlcnQoKSxcclxuICAgIFZpdGVQV0Eoe1xyXG4gICAgICByZWdpc3RlclR5cGU6ICdhdXRvVXBkYXRlJyxcclxuICAgICAgaW5jbHVkZUFzc2V0czogWydmYXZpY29uLmljbycsICdwd2EtMTkyeDE5Mi5wbmcnLCAncHdhLTUxMng1MTIucG5nJ10sXHJcbiAgICAgIG1hbmlmZXN0OiB7XHJcbiAgICAgICAgbmFtZTogJ05vdGUgU3RhdGlvbicsXHJcbiAgICAgICAgc2hvcnRfbmFtZTogJ05vdGVTdGF0aW9uJyxcclxuICAgICAgICBkZXNjcmlwdGlvbjogJ0V2ZXJub3RlLXN0eWxlIG5vdGUgdGFraW5nIHN0YXRpb24nLFxyXG4gICAgICAgIHRoZW1lX2NvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgaWNvbnM6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgc3JjOiAncHdhLTE5MngxOTIucG5nJyxcclxuICAgICAgICAgICAgc2l6ZXM6ICcxOTJ4MTkyJyxcclxuICAgICAgICAgICAgdHlwZTogJ2ltYWdlL3BuZydcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHNyYzogJ3B3YS01MTJ4NTEyLnBuZycsXHJcbiAgICAgICAgICAgIHNpemVzOiAnNTEyeDUxMicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgXVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgYmFzZTogJy4vJyxcclxuICBzZXJ2ZXI6IHtcclxuICAgIGh0dHBzOiB0cnVlLFxyXG4gICAgaG9zdDogdHJ1ZVxyXG4gIH0sXHJcbiAgYnVpbGQ6IHtcclxuICAgIG91dERpcjogJ2Rpc3QnLFxyXG4gICAgZW1wdHlPdXREaXI6IHRydWVcclxuICB9XHJcbn0pIl0sCiAgIm1hcHBpbmdzIjogIjtBQUEyTSxTQUFTLG9CQUFvQjtBQUN4TyxPQUFPLFdBQVc7QUFDbEIsT0FBTyxRQUFRO0FBQ2YsT0FBTyxVQUFVO0FBQ2pCLFNBQVMscUJBQXFCO0FBQzlCLE9BQU8sWUFBWTtBQUNuQixTQUFTLGVBQWU7QUFOaUcsSUFBTSwyQ0FBMkM7QUFRMUssSUFBTSxZQUFZLEtBQUssUUFBUSxjQUFjLHdDQUFlLENBQUM7QUFFN0QsU0FBUyxZQUFZO0FBQ25CLFNBQU87QUFBQSxJQUNMLE1BQU07QUFBQSxJQUNOLGFBQWE7QUFDWCxVQUFJO0FBQ0YsY0FBTSxNQUFNLEtBQUssUUFBUSxXQUFXLDBCQUEwQjtBQUM5RCxjQUFNLE9BQU8sS0FBSyxRQUFRLFdBQVcsUUFBUTtBQUM3QyxZQUFJLENBQUMsR0FBRyxXQUFXLElBQUksRUFBRyxJQUFHLFVBQVUsTUFBTSxFQUFFLFdBQVcsS0FBSyxDQUFDO0FBQ2hFLFdBQUcsYUFBYSxLQUFLLEtBQUssS0FBSyxhQUFhLEdBQUcsS0FBSyxLQUFLLE1BQU0sYUFBYSxDQUFDO0FBQzdFLFdBQUcsYUFBYSxLQUFLLEtBQUssS0FBSyxlQUFlLEdBQUcsS0FBSyxLQUFLLE1BQU0sZUFBZSxDQUFDO0FBQ2pGLGdCQUFRLElBQUksNkNBQXdDO0FBQUEsTUFDdEQsU0FBUyxHQUFHO0FBQ1YsZ0JBQVEsTUFBTSxzQ0FBaUMsQ0FBQztBQUFBLE1BQ2xEO0FBQUEsSUFDRjtBQUFBLEVBQ0Y7QUFDRjtBQUVBLFNBQVMsa0JBQWtCO0FBQ3pCLFNBQU87QUFBQSxJQUNMLE1BQU07QUFBQSxJQUNOLGFBQWE7QUFDWCxZQUFNLE9BQU8sS0FBSyxRQUFRLFdBQVcsUUFBUTtBQUM3QyxVQUFJLENBQUMsR0FBRyxXQUFXLElBQUksRUFBRyxJQUFHLFVBQVUsTUFBTSxFQUFFLFdBQVcsS0FBSyxDQUFDO0FBRWhFLFlBQU0sU0FBUztBQUFBLFFBQ2IsRUFBRSxNQUFNLGVBQWUsU0FBUywyREFBMkQ7QUFBQTtBQUFBLFFBQzNGLEVBQUUsTUFBTSxtQkFBbUIsU0FBUyxtR0FBbUc7QUFBQTtBQUFBLFFBQ3ZJLEVBQUUsTUFBTSxtQkFBbUIsU0FBUyxtR0FBbUc7QUFBQTtBQUFBLE1BQ3pJO0FBRUEsYUFBTyxRQUFRLFdBQVM7QUFDdEIsY0FBTSxZQUFZLEtBQUssS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUM1QyxZQUFJLENBQUMsR0FBRyxXQUFXLFNBQVMsR0FBRztBQUM3QixhQUFHLGNBQWMsV0FBVyxPQUFPLEtBQUssTUFBTSxTQUFTLFFBQVEsQ0FBQztBQUFBLFFBQ2xFO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFDRjtBQUVBLElBQU8sc0JBQVEsYUFBYTtBQUFBLEVBQzFCLFNBQVM7QUFBQSxJQUNQLE1BQU07QUFBQSxJQUNOLFVBQVU7QUFBQSxJQUNWLGdCQUFnQjtBQUFBLElBQ2hCLE9BQU87QUFBQSxJQUNQLFFBQVE7QUFBQSxNQUNOLGNBQWM7QUFBQSxNQUNkLGVBQWUsQ0FBQyxlQUFlLG1CQUFtQixpQkFBaUI7QUFBQSxNQUNuRSxVQUFVO0FBQUEsUUFDUixNQUFNO0FBQUEsUUFDTixZQUFZO0FBQUEsUUFDWixhQUFhO0FBQUEsUUFDYixhQUFhO0FBQUEsUUFDYixPQUFPO0FBQUEsVUFDTDtBQUFBLFlBQ0UsS0FBSztBQUFBLFlBQ0wsT0FBTztBQUFBLFlBQ1AsTUFBTTtBQUFBLFVBQ1I7QUFBQSxVQUNBO0FBQUEsWUFDRSxLQUFLO0FBQUEsWUFDTCxPQUFPO0FBQUEsWUFDUCxNQUFNO0FBQUEsVUFDUjtBQUFBLFFBQ0Y7QUFBQSxNQUNGO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBLEVBQ0EsTUFBTTtBQUFBLEVBQ04sUUFBUTtBQUFBLElBQ04sT0FBTztBQUFBLElBQ1AsTUFBTTtBQUFBLEVBQ1I7QUFBQSxFQUNBLE9BQU87QUFBQSxJQUNMLFFBQVE7QUFBQSxJQUNSLGFBQWE7QUFBQSxFQUNmO0FBQ0YsQ0FBQzsiLAogICJuYW1lcyI6IFtdCn0K
